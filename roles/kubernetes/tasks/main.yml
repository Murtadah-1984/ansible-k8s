---
# Kubernetes Role - Main Entry Point
# Orchestrates Kubernetes installation and configuration

# ============================================================================
# PRE-FLIGHT CHECKS
# ============================================================================
- name: Run pre-flight checks
  include_tasks: preflight.yml

# ============================================================================
# REPOSITORY SETUP
# ============================================================================
- name: Setup Kubernetes repository
  include_tasks: repository.yml

# ============================================================================
# PACKAGE INSTALLATION
# ============================================================================
- name: Install Kubernetes packages
  include_tasks: installation.yml

# ============================================================================
# CRICTL INSTALLATION
# ============================================================================
- name: Install and configure crictl
  include_tasks: crictl.yml

# ============================================================================
# KUBELET CONFIGURATION
# ============================================================================
- name: Configure kubelet
  include_tasks: kubelet.yml

# ============================================================================
# CIS COMPLIANCE
# ============================================================================
- name: Apply CIS compliance settings
  include_tasks: cis_compliance.yml
